<%- include('layout.ejs') %> <%- include('partials/navbar.ejs') %>

<head>
  <title>Admin</title>
</head>

<body>
  <p>This is what is known as the admin page (Hello there!)</p>

  <form>
    <div class="container">
      <h1>Upload</h1>
      <p>To upload a movie, please fill in the form below.</p>

      <hr />
      <label for="title"><b>Title</b></label>
      <input
        type="text"
        placeholder="Enter movie title"
        name="title"
        id="title"
        required
      />
      <br />

      <label for="directors"><b>Director(s)</b></label>
      <input
        type="text"
        placeholder="Enter name of director(s)"
        name="directors"
        id="directors"
        required
      />
      <br />

      <label for="cast"><b>Cast</b></label>

      <input
        type="text"
        placeholder="Enter cast"
        name="cast"
        id="cast"
        required
      />
      <br />

      <label for="genres"><b>Genres</b></label>

      <input
        type="text"
        placeholder="Enter genres"
        name="genres"
        id="genres"
        required
      />
      <br />
      <label><b>Runtime (in minutes)</b></label>
      <input
        type="number"
        placeholder="Enter runtime (minutes)"
        name="runtime"
        id="runtime"
        required
      />
      <br />
      <label><b>Year of release:</b></label>
      <input
        type="number"
        placeholder="Enter year of release"
        name="year"
        id="year"
        required
      />
      <br />
      <label><b>Plot Summary:</b></label>
      <input
        type="string"
        placeholder="Enter summary"
        name="summary"
        id="summary"
        required
      />
      <br />
      <label><b>Age Rating:</b></label>
      <input
        type="string"
        placeholder="Enter age rating"
        name="ageRating"
        id="ageRating"
      />
      <br />
      <label><b>Price:</b></label>
      <input
        type="number"
        placeholder="Enter price"
        name="price"
        id="price"
        required
      />
      <br />

      <label><b>Trailer:</b></label>
      <input
        type="genres"
        placeholder="Enter youtube link (embed)"
        name="trailer"
        id="trailer"
      />
      <br />

      <hr />

      <button type="submit" class="registerbtn">Upload</button>
    </div>
  </form>

  <table>
    <thead>
      <tr>
        <th>Id</th>
        <th>Title</th>
        <th>URL</th>
        <th>Operations</th>
      </tr>
    </thead>
    <tbody>
      <% for(var i = 0; i < movies.length; i++) {%>
      <tr style="padding: 15px">
        <td>
          <a href="/movieslist/<%= movies[i].id %>"><%= movies[i].title %></a>
        </td>
        <td><%= movies[i].id %></td>
        <td><%= movies[i].title.join(", ") %></td>
        <td><a href="/movieslist/<%= movies[i].id %>">/movieslist/<%= movies[i].id %></a> %></td>
        <td><%= movies[i].runtime %></td>
        <td><%= movies[i].release %></td>
        <td>$<%= movies[i].price %></td>
        <td><%= movies[i].ageRating %></td>
      </tr>
      <% } %>
    </tbody>
</body>
